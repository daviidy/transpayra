import fs from 'fs'
import path from 'path'

interface JobTitle {
  job_title_id: null
  title: string
  industry_id: null
  category: null
  slug: null
}

// Comprehensive French to English translations
const translations: Record<string, string> = {
  // Common job titles
  'INGÉNIEUR': 'ENGINEER',
  'INGENIEUR': 'ENGINEER',
  'DÉVELOPPEUR': 'DEVELOPER',
  'DEVELOPPEUR': 'DEVELOPER',
  'DIRECTEUR': 'DIRECTOR',
  'RESPONSABLE': 'MANAGER',
  'CHEF': 'LEAD',
  'ASSISTANT': 'ASSISTANT',
  'GESTIONNAIRE': 'ADMINISTRATOR',
  'ANALYSTE': 'ANALYST',
  'TECHNICIEN': 'TECHNICIAN',
  'COMPTABLE': 'ACCOUNTANT',
  'CONTRÔLEUR': 'CONTROLLER',
  'CONTROLEUR': 'CONTROLLER',

  // Departments and functions
  'FINANCIER': 'FINANCIAL',
  'COMMERCIAL': 'SALES',
  'COMMERCIALE': 'SALES',
  'MARKETING': 'MARKETING',
  'COMMUNICATION': 'COMMUNICATIONS',
  'COMMUNICATIONS': 'COMMUNICATIONS',
  'PRODUCTION': 'PRODUCTION',
  'MAINTENANCE': 'MAINTENANCE',
  'QUALITÉ': 'QUALITY',
  'QUALITE': 'QUALITY',
  'LOGISTIQUE': 'LOGISTICS',
  'ACHATS': 'PURCHASING',
  'ACHETEUR': 'BUYER',
  'VENTES': 'SALES',
  'PROJET': 'PROJECT',
  'PROJETS': 'PROJECTS',
  'GESTION': 'MANAGEMENT',
  'TRÉSORERIE': 'TREASURY',
  'TRESORERIE': 'TREASURY',
  'RISQUES': 'RISK',
  'CONFORMITÉ': 'COMPLIANCE',
  'CONFORMITE': 'COMPLIANCE',
  'AUDIT': 'AUDIT',
  'CONTRÔLE': 'CONTROL',
  'CONTROLE': 'CONTROL',
  'PAIE': 'PAYROLL',
  'FORMATION': 'TRAINING',
  'RECRUTEMENT': 'RECRUITMENT',

  // Locations and areas
  'NATIONAL': 'NATIONAL',
  'RÉGIONAL': 'REGIONAL',
  'REGIONAL': 'REGIONAL',
  'ZONE': 'TERRITORY',
  'SECTEUR': 'SECTOR',
  'AGENCE': 'BRANCH',
  'USINE': 'PLANT',
  'MAGASIN': 'STORE',
  'ENTREPÔT': 'WAREHOUSE',
  'ENTREPOSAGE': 'WAREHOUSING',

  // Technical roles
  'DEVOPS': 'DEVOPS',
  'RÉSEAUX': 'NETWORKS',
  'RESEAUX': 'NETWORKS',
  'SYSTÈMES': 'SYSTEMS',
  'SYSTEMES': 'SYSTEMS',
  'SÉCURITÉ': 'SECURITY',
  'SECURITE': 'SECURITY',
  'CYBERSÉCURITÉ': 'CYBERSECURITY',
  'CYBERSECURITE': 'CYBERSECURITY',
  'INFRASTRUCTURES': 'INFRASTRUCTURE',
  'DONNÉES': 'DATA',
  'DONNEES': 'DATA',
  'INFORMATIQUE': 'IT',

  // Levels and seniority
  'SENIOR': 'SENIOR',
  'JUNIOR': 'JUNIOR',
  'PRINCIPAL': 'PRINCIPAL',
  'ADJOINT': 'DEPUTY',

  // Other terms
  'GÉNÉRAL': 'GENERAL',
  'GENERAL': 'GENERAL',
  'GÉNÉRALISTE': 'GENERALIST',
  'CHARGÉ': 'MANAGER',
  'CHARGE': 'MANAGER',
  'OPÉRATEUR': 'OPERATOR',
  'OPERATEUR': 'OPERATOR',
  'CHAUFFEUR': 'DRIVER',
  'MAGASINIER': 'WAREHOUSE WORKER',
  'MANUTENTIONNAIRE': 'HANDLER',
  'DÉCLARANT': 'DECLARANT',
  'DECLARANT': 'DECLARANT',
  'DOUANES': 'CUSTOMS',
  'TRANSIT': 'TRANSIT',
  'AUTOMOBILE': 'AUTOMOTIVE',
  'ENGINS': 'EQUIPMENT',
  'TRANSPORTS': 'TRANSPORT',
  'PLANIFICATION': 'PLANNING',
  'IMPLÉMENTATION': 'IMPLEMENTATION',
  'IMPLEMENTATION': 'IMPLEMENTATION',
  'APPROVISIONNE-': 'SUPPLY',
  'APPROVISIONNEMENTS': 'SUPPLY',
  'FLUX': 'FLOW',
  'STOCKS': 'INVENTORY',
  'PRÉVISION': 'FORECAST',
  'PREVISION': 'FORECAST',
  'OPÉRATIONS': 'OPERATIONS',
  'OPERATIONS': 'OPERATIONS',
  'MOYENS': 'RESOURCES',
  'GÉNÉRAUX': 'GENERAL',
  'GENERAUX': 'GENERAL',
  'ÉQUIPE': 'TEAM',
  'EQUIPE': 'TEAM',
  'DÉPARTEMENT': 'DEPARTMENT',
  'DEPARTEMENT': 'DEPARTMENT',
  'PLATEAU': 'TEAM',
  'SERVICE': 'SERVICE',
  'CLIENTÈLE': 'CLIENT',
  'CLIENTELE': 'CLIENT',
  'CLIENTS': 'CLIENTS',
  'SINISTRES': 'CLAIMS',
  'IARD': 'PROPERTY INSURANCE',
  'DAB': 'PERSONAL INSURANCE',
  'CORPORELS': 'BODILY INJURY',
  'SANTÉ': 'HEALTH',
  'SANTE': 'HEALTH',
  'PRÉVOYANCE': 'INSURANCE',
  'PREVOYANCE': 'INSURANCE',
  'BIENS': 'PROPERTY',
  'PERSONNES': 'PERSONNEL',
  'MISSION': 'MISSION',
  'EXPÉRIENCE': 'EXPERIENCE',
  'EXPERIENCE': 'EXPERIENCE',
  'COLLABORATEUR': 'ASSOCIATE',
  'EXPERT': 'EXPERT',
  'ACTUAIRE': 'ACTUARY',
  'ACTUARIAT': 'ACTUARIAL',
  'SOUSCRIPTION': 'UNDERWRITING',
  'SOUSCRIPTEUR': 'UNDERWRITER',
  'PORTEFEUILLE': 'PORTFOLIO',
  'MARCHÉS': 'MARKETS',
  'MARCHES': 'MARKETS',
  'INVESTISSEMENT': 'INVESTMENT',
  'FONDS': 'FUNDS',
  'COURTAGE': 'BROKERAGE',
  'MONÉTIQUE': 'PAYMENT SYSTEMS',
  'MONETIQUE': 'PAYMENT SYSTEMS',
  'BANCAIRE': 'BANKING',
  'BANQUE': 'BANK',
  'CORPORATE': 'CORPORATE',
  'FACTURATION': 'BILLING',
  'RECOUVREMENT': 'COLLECTION',
  'CONTENTIEUX': 'LITIGATION',
  'IMMOBILISATIONS': 'FIXED ASSETS',
  'FOURNISSEURS': 'PAYABLE',
  'ANALYTIQUE': 'ANALYTICAL',
  'TRÉSORERIE': 'TREASURY',
  'PÔLE': 'DIVISION',
  'POLE': 'DIVISION',
  'HÔTEL': 'HOTEL',
  'HOTEL': 'HOTEL',
  'RÉCEPTION': 'RECEPTION',
  'RECEPTION': 'RECEPTION',
  'GÉRANT': 'MANAGER',
  'GERANT': 'MANAGER',
  'GOUVERNANT': 'HOUSEKEEPER',
  'RÉCEPTIONNISTE': 'RECEPTIONIST',
  'RECEPTIONNISTE': 'RECEPTIONIST',
  'BARMAN': 'BARMAN',
  'CUISINE': 'KITCHEN',
  'SALLE': 'ROOM',
  'SAV': 'AFTER-SALES',
  'PIÈCES': 'PARTS',
  'PIECES': 'PARTS',
  'DÉTACHÉES': 'SPARE',
  'DETACHEES': 'SPARE',
  'COMMISSIONING': 'COMMISSIONING',
  'MÉTHODES': 'METHODS',
  'METHODES': 'METHODS',
  'GMAO': 'CMMS',
  'TRAVAUX': 'WORKS',
  'NEUFS': 'NEW',
  'ATELIER': 'WORKSHOP',
  'QUART': 'SHIFT',
  'LIGNE': 'LINE',
  'CONDUCTEUR': 'OPERATOR',
  'BUREAU': 'OFFICE',
  'ÉTUDES': 'STUDIES',
  'ETUDES': 'STUDIES',
  'R&D': 'R&D',
  'RD': 'R&D',
  'LABORATOIRE': 'LABORATORY',
  'ESSAIS': 'TESTING',
  'AUTOMATISME': 'AUTOMATION',
  'ÉLECTRICIEN': 'ELECTRICIAN',
  'ELECTRICIEN': 'ELECTRICIAN',
  'MÉCANICIEN': 'MECHANIC',
  'MECANICIEN': 'MECHANIC',
  'POIDS': 'HEAVY',
  'LOURDS': 'VEHICLES',
  'PERSONNEL': 'PERSONNEL',
  'ADMINISTRATION': 'ADMINISTRATION',
  'DÉVELOPPEMENT': 'DEVELOPMENT',
  'DEVELOPPEMENT': 'DEVELOPMENT',
  'RH': 'HR',
  'HRBP': 'HRBP',
  'RRH': 'HR',
  'SITE': 'SITE',
  'INDUSTRIEL': 'INDUSTRIAL',
  'RSE': 'CSR',
  'COORDINATEUR': 'COORDINATOR',
  'ADMINISTRATEUR': 'ADMINISTRATOR',
  'FONCTIONNEL': 'FUNCTIONAL',
  'CRM': 'CRM',
  'BI': 'BI',
  'TESTS': 'TESTING',
  'RECETTES': 'ACCEPTANCE',
  'PRODUCT': 'PRODUCT',
  'OWNER': 'OWNER',
  'PAYS': 'COUNTRY',
  'IMPORT': 'IMPORT',
  'EXPORT': 'EXPORT',
  'CALL': 'CALL',
  'CENTER': 'CENTER',
  'CENTRE': 'CENTER',
  'SUPERVISEUR': 'SUPERVISOR',
  'TÉLÉVENTE': 'TELESALES',
  'TELEVENTE': 'TELESALES',
  'TRACKING': 'TRACKING',
  'DOUANE': 'CUSTOMS',
  'AFFRÊTEUR': 'FREIGHT FORWARDER',
  'AFFRETEUR': 'FREIGHT FORWARDER',
  'GRANDES': 'KEY',
  'COMPTES': 'ACCOUNTS',
  'TRADE': 'TRADE',
  'DISTRIBUTION': 'DISTRIBUTION',
  'DESIGN': 'DESIGN',
  'CRÉATION': 'CREATIVE',
  'CREATION': 'CREATIVE',
  'GRAPHISTE': 'GRAPHIC DESIGNER',
  'INFOGRAPHISTE': 'GRAPHIC DESIGNER',
  'MOTION': 'MOTION',
  'DESIGNER': 'DESIGNER',
  'WEBMASTER': 'WEBMASTER',
  'SOCIAL': 'SOCIAL',
  'MEDIA': 'MEDIA',
  'MÉDIAS': 'MEDIA',
  'MEDIAS': 'MEDIA',
  'WEB': 'WEB',
  'DIGITAL': 'DIGITAL',
  'COMMUNITY': 'COMMUNITY',
  'MANAGER': 'MANAGER',
  'BRAND': 'BRAND',
  'CATEGORY': 'CATEGORY',
  'HYPERMARCHÉ': 'HYPERMARKET',
  'HYPERMARCHE': 'HYPERMARKET',
  'SUPERMARCHÉ': 'SUPERMARKET',
  'SUPERMARCHE': 'SUPERMARKET',
  'VENDEUR': 'SALES ASSOCIATE',
  'ÉQUIPIER': 'TEAM MEMBER',
  'EQUIPIER': 'TEAM MEMBER',
  'POLYVALENT': 'VERSATILE',
  'BOUCHER': 'BUTCHER',
  'BOULANGER': 'BAKER',
  'CAISSIER': 'CASHIER',
  'EXPANSION': 'EXPANSION',
  'ENSEIGNE': 'BRAND',
  'MARQUES': 'BRANDS',
  'SERVICES': 'SERVICES',
  'GÉNÉRAUX': 'GENERAL SERVICES',
  'CONTRATS': 'CONTRACTS',
  'CHANTIER': 'SITE',
  'BÂTIMENT': 'BUILDING',
  'BATIMENT': 'BUILDING',
  'PUBLICS': 'PUBLIC',
  'TP': 'PUBLIC WORKS',
  'TOPOGRAPHE': 'SURVEYOR',
  'DESSINATEUR': 'DRAFTSMAN',
  'PROJETEUR': 'DESIGNER',
  'IMMOBILIER': 'REAL ESTATE',
  'LOCATIF': 'RENTAL',
  'ARTISTIQUE': 'ART',
  'DATA': 'DATA',
  'ANALYST': 'ANALYST',
  'UX': 'UX',
  'UI': 'UI',
  'BILINGUE': 'BILINGUAL',
  'ANGLAIS': 'ENGLISH',
  'COURANT': 'FLUENT',
  'FRANÇAIS': 'FRENCH',
  'FRANCAIS': 'FRENCH',
  'OFFICE': 'OFFICE',
  'SPÉCIALISÉ': 'SPECIALIZED',
  'SPECIALISE': 'SPECIALIZED',
  'SECRÉTAIRE': 'SECRETARY',
  'SECRETAIRE': 'SECRETARY',
  'MÉDICALE': 'MEDICAL',
  'MEDICALE': 'MEDICAL',
  'PRÉSIDENT': 'PRESIDENT',
  'PRESIDENT': 'PRESIDENT',
  'DIRECTION': 'MANAGEMENT',
  'PME': 'SME',
  'PMI': 'SME',
  'SAISIE': 'DATA ENTRY',
  'PROCUREMENT': 'PROCUREMENT',
  'MATIÈRES': 'RAW',
  'MATIERES': 'RAW',
  'PREMIÈRES': 'MATERIALS',
  'PREMIERES': 'MATERIALS',
  'FM': 'FACILITY MANAGEMENT',
  'GRANDE': 'SENIOR',
  'PARC': 'FLEET',
  'CHALLENGER': 'CHALLENGER',
  'ENGIN': 'EQUIPMENT',
  'MANUTENTION': 'HANDLING',
  'TRACTEUR': 'TRACTOR',
  'ROUTIER': 'ROAD',
  'S&OP': 'S&OP',
  'GMS': 'MASS RETAIL',
  'CHR': 'HOTELS RESTAURANTS',
  'GSB': 'DIY',
  'GSA': 'RETAIL',
  'GSS': 'HEALTH RETAIL',
  'RHF': 'RESTAURANTS',
  'GDS': 'DISTRIBUTION',
  'CHD': 'HOTELS',
  'AREA': 'AREA',
  'TERRITORY': 'TERRITORY',
  'RÉGIONAL': 'REGIONAL',
  'DÉTAIL': 'RETAIL',
  'DETAIL': 'RETAIL',
  'LIGNE': 'ONLINE',
  'AFFAIRES': 'BUSINESS',
  'INGÉNIEUR': 'ENGINEER',
  'HARDWARE': 'HARDWARE',
  'CLIENTÈLE': 'CLIENT',
  'GRANDS': 'MAJOR',
  'FISCALISTE': 'TAX SPECIALIST',
  'ENTREPRISE': 'CORPORATE',
  'JURISTE': 'LAWYER',
  'FISCAL': 'TAX',
  'JUSTICE': 'LEGAL',
  'COMPLIANCE': 'COMPLIANCE',
  'AUTOMOBILES': 'AUTOMOTIVE',
  'MÉCANIQUE': 'MECHANICAL',
  'MECANIQUE': 'MECHANICAL',
  'HELPDESK': 'HELPDESK',
  'SUPPORT': 'SUPPORT',
  'EMPLISSEUR': 'FILLING',
  'GRANDS': 'MAJOR',
  'PRINCIPAL': 'PRINCIPAL',
  'DÉVELOPPEMENT': 'DEVELOPMENT',
  'FONCTIONNEL': 'FUNCTIONAL',
  'INFRASTRUCTURES': 'INFRASTRUCTURE',
  'SYSTÈMES': 'SYSTEMS',
  "D'INFORMATION": 'INFORMATION SYSTEMS',
  'INFORMATION': 'INFORMATION SYSTEMS',
  'MOBILE': 'MOBILE',
  'DEVOPS': 'DEVOPS',
  'COUNTRY': 'COUNTRY',
  'MANAGER': 'MANAGER',
  'GÉNÉRAL': 'GENERAL',
  'SOUS-RÉGIONAL': 'SUBREGIONAL',
  'SOUS': 'SUB',
}

function translateTitle(frenchTitle: string): string {
  let translated = frenchTitle.toUpperCase()

  // Replace French terms with English
  for (const [french, english] of Object.entries(translations)) {
    // Use word boundaries to avoid partial replacements
    const regex = new RegExp(`\\b${french}\\b`, 'g')
    translated = translated.replace(regex, english)
  }

  // Clean up extra spaces
  translated = translated.replace(/\s+/g, ' ').trim()

  return translated
}

async function translateJobSeed() {
  console.log('Translating job_seed.json to English...\n')

  try {
    const jsonPath = path.join(process.cwd(), 'job_seed.json')
    const jsonData = fs.readFileSync(jsonPath, 'utf-8')
    const jobTitles: JobTitle[] = JSON.parse(jsonData)

    console.log(`Found ${jobTitles.length} job titles\n`)

    const translatedJobs = jobTitles.map(job => {
      const originalTitle = job.title
      const translatedTitle = translateTitle(job.title)

      if (originalTitle !== translatedTitle) {
        console.log(`"${originalTitle}" → "${translatedTitle}"`)
      }

      return {
        ...job,
        title: translatedTitle
      }
    })

    // Write back to file
    fs.writeFileSync(jsonPath, JSON.stringify(translatedJobs, null, 2))

    console.log(`\n✅ Successfully translated all ${jobTitles.length} job titles to English!`)
    console.log(`Updated job_seed.json file`)

  } catch (error) {
    console.error('❌ Error:', error)
    throw error
  }
}

translateJobSeed()
